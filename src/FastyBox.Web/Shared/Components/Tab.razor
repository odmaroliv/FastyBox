@namespace FastyBox.Web.Shared.Components

@code {
    [CascadingParameter]
    private Tabs Parent { get; set; }

    [Parameter]
    public string Name { get; set; }

    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public string Icon { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    protected override void OnInitialized()
    {
        if (Parent == null)
            throw new InvalidOperationException($"{nameof(Tab)} must exist within a {nameof(Tabs)}");

        Parent.AddTab(new Tabs.TabItem
            {
                Name = Name,
                Label = Label,
                Icon = Icon,
                Content = ChildContent
            });
    }
}